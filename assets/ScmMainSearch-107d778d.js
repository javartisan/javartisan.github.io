import{_ as I,b as p,r as a,o as r,c as u,a as l,w as d,d as S,e as g,F as m,f as h,g as b,h as P,i as V,t as y}from"./index-ae508e22.js";const O={data(){return{keyword:"",skuInfoList:[],dropdownMenu:{orderOptions:[{text:"默认排序",value:"a"},{text:"时间升序",value:"b"},{text:"时间降序",value:"c"}],orderOption:"a",statusOptions:[{text:"全部状态",value:null}],statusOption:null},tagInfo:{mobilePhone:{id:"mobilePhone",name:"手机",color:"blue"},computer:{id:"computer",name:"电脑",color:"green"}},listPageInfo:{currentPage:1,totalPageCount:0,sizePerPage:10}}},methods:{backToParentPage(){this.$router.go(-1)},onSearchClick(){const s=this.dropdownMenu.statusOption;this.listPageInfo.currentPage=1,p.searchSkuList(this.keyword,s,this.listPageInfo.currentPage,this.listPageInfo.sizePerPage).then(t=>{t.data.code===1&&(this.skuInfoList=t.data.data.items,this.listPageInfo.totalPageCount=t.data.data.totalSize)}),console.log("this.listPageInfo.currentPage = "+this.listPageInfo.currentPage)},skuDetailInfo(s){this.$router.push("/sku-detail/"+s)},loadPageList(){const s=this.dropdownMenu.statusOption;p.searchSkuList(this.keyword,s,this.listPageInfo.currentPage,this.listPageInfo.sizePerPage).then(t=>{t.data.code===1&&(this.skuInfoList=t.data.data.items,this.listPageInfo.totalPageCount=t.data.data.totalSize)})}},mounted(){this.onSearchClick()}},x={class:"sku-list"},L={key:0,class:"pagination"};function M(s,t,z,B,o,n){const _=a("van-nav-bar"),f=a("van-search"),c=a("van-dropdown-item"),k=a("van-dropdown-menu"),v=a("van-tag"),C=a("van-card"),w=a("van-pagination");return r(),u("div",null,[l(_,{title:"搜索","left-text":"返回","left-arrow":"",onClickLeft:n.backToParentPage},null,8,["onClickLeft"]),l(f,{modelValue:o.keyword,"onUpdate:modelValue":t[1]||(t[1]=e=>o.keyword=e),shape:"round",background:"#4fc08d","show-action":"",placeholder:"请输入搜索关键词",onKeypress:S(n.onSearchClick,["enter"])},{action:d(()=>[g("div",{onClick:t[0]||(t[0]=(...e)=>n.onSearchClick&&n.onSearchClick(...e))},"搜索")]),_:1},8,["modelValue","onKeypress"]),l(k,null,{default:d(()=>[l(c,{modelValue:o.dropdownMenu.statusOption,"onUpdate:modelValue":t[2]||(t[2]=e=>o.dropdownMenu.statusOption=e),options:o.dropdownMenu.statusOptions,onChange:n.onSearchClick},null,8,["modelValue","options","onChange"]),l(c,{modelValue:o.dropdownMenu.orderOption,"onUpdate:modelValue":t[3]||(t[3]=e=>o.dropdownMenu.orderOption=e),options:o.dropdownMenu.orderOptions,onChange:n.onSearchClick},null,8,["modelValue","options","onChange"])]),_:1}),g("div",x,[(r(!0),u(m,null,h(o.skuInfoList,e=>(r(),P(C,{tag:e.count,num:e.count,price:e.price,desc:"发布日期："+e.createdDate,title:e.title,thumb:e.thumbs[0],key:e.skuId,onClick:i=>n.skuDetailInfo(e.skuId)},{tags:d(()=>[(r(!0),u(m,null,h(e.tags,i=>(r(),P(v,{type:"success",color:o.tagInfo[i].color,key:i},{default:d(()=>[V(y(o.tagInfo[i].name),1)]),_:2},1032,["color"]))),128))]),_:2},1032,["tag","num","price","desc","title","thumb","onClick"]))),128))]),o.listPageInfo.totalPageCount>0?(r(),u("div",L,[l(w,{modelValue:o.listPageInfo.currentPage,"onUpdate:modelValue":t[4]||(t[4]=e=>o.listPageInfo.currentPage=e),"total-items":o.listPageInfo.totalPageCount,"items-per-page":o.listPageInfo.sizePerPage,mode:"simple",onChange:n.loadPageList},null,8,["modelValue","total-items","items-per-page","onChange"])])):b("",!0)])}const N=I(O,[["render",M],["__scopeId","data-v-e901a3b0"]]);export{N as default};
