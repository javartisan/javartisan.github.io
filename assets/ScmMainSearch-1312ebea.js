import{_ as w,b as V,r as a,o as l,c as u,a as r,w as d,d as b,e as p,F as m,f as g,g as S,h as _,i as x,t as y}from"./index-7f907eac.js";const O={data(){return{keyword:"",skuInfoList:[],dropdownMenu:{orderOptions:[{text:"默认排序",value:"a"},{text:"时间升序",value:"b"},{text:"销量降序",value:"c"}],orderOption:"a",statusOptions:[{text:"全部状态",value:null},{text:"在售",value:0},{text:"已售",value:1}],statusOption:null},tagInfo:{mobilePhone:{id:"mobilePhone",name:"手机",color:"blue"},computer:{id:"computer",name:"电脑",color:"green"}},listPageInfo:{currentPage:0,totalPageCount:0,sizePerPage:10}}},methods:{backToParentPage(){this.$router.go(-1)},onSearchClick(){const s=this.dropdownMenu.statusOption;V.searchSkuList(this.keyword,s).then(o=>{o.data.code===1&&(this.skuInfoList=o.data.data.items,this.listPageInfo.totalPageCount=o.data.data.totalSize)})},skuDetailInfo(s){this.$router.push("/sku-detail/"+s)}},mounted(){this.onSearchClick()}},I={class:"sku-list"},M={key:0,class:"pagination"};function L(s,o,B,N,t,n){const h=a("van-nav-bar"),k=a("van-search"),c=a("van-dropdown-item"),v=a("van-dropdown-menu"),P=a("van-tag"),C=a("van-card"),f=a("van-pagination");return l(),u("div",null,[r(h,{title:"搜索","left-text":"返回","left-arrow":"",onClickLeft:n.backToParentPage},null,8,["onClickLeft"]),r(k,{modelValue:t.keyword,"onUpdate:modelValue":o[1]||(o[1]=e=>t.keyword=e),shape:"round",background:"#4fc08d","show-action":"",placeholder:"请输入搜索关键词",onKeypress:b(n.onSearchClick,["enter"])},{action:d(()=>[p("div",{onClick:o[0]||(o[0]=(...e)=>n.onSearchClick&&n.onSearchClick(...e))},"搜索")]),_:1},8,["modelValue","onKeypress"]),r(v,null,{default:d(()=>[r(c,{modelValue:t.dropdownMenu.statusOption,"onUpdate:modelValue":o[2]||(o[2]=e=>t.dropdownMenu.statusOption=e),options:t.dropdownMenu.statusOptions,onChange:n.onSearchClick},null,8,["modelValue","options","onChange"]),r(c,{modelValue:t.dropdownMenu.orderOption,"onUpdate:modelValue":o[3]||(o[3]=e=>t.dropdownMenu.orderOption=e),options:t.dropdownMenu.orderOptions,onChange:n.onSearchClick},null,8,["modelValue","options","onChange"])]),_:1}),p("div",I,[(l(!0),u(m,null,g(t.skuInfoList,e=>(l(),_(C,{tag:e.count,num:e.count,price:e.price,desc:e.desc,title:e.title,thumb:e.thumbs[0],key:e.skuId,onClick:i=>n.skuDetailInfo(e.skuId)},{tags:d(()=>[(l(!0),u(m,null,g(e.tags,i=>(l(),_(P,{type:"success",color:t.tagInfo[i].color,key:i},{default:d(()=>[x(y(t.tagInfo[i].name),1)]),_:2},1032,["color"]))),128))]),_:2},1032,["tag","num","price","desc","title","thumb","onClick"]))),128)),t.listPageInfo.totalPageCount>0?(l(),u("div",M,[r(f,{modelValue:t.listPageInfo.currentPage,"onUpdate:modelValue":o[4]||(o[4]=e=>t.listPageInfo.currentPage=e),"total-items":t.listPageInfo.totalPageCount,"items-per-page":t.listPageInfo.sizePerPage,mode:"simple"},null,8,["modelValue","total-items","items-per-page"])])):S("",!0)])])}const z=w(O,[["render",L]]);export{z as default};
