import{S as v}from"./index-05769573.js";import{_ as C,b as _,s as L,r,o,c as n,F as h,e as p,a as c,f,w as s,g as i,t as b}from"./index-fac6ecc0.js";const y={components:{ScmMainCartItem:v},data(){return{tagInfo:{mobilePhone:{id:"mobilePhone",name:"手机",color:"blue"},computer:{id:"computer",name:"电脑",color:"green"}},cartSkuInfoList:[]}},methods:{deleteFromCartList(e){console.log(JSON.stringify(e)),_.followSku(e.skuId,!1).then(l=>{l.data.code===1&&(L(`移除关注商品：${e.title}`),this.refreshSkuList())})},skuDetailInfo(e){this.$router.push("/sku-detail/"+e)},refreshSkuList(){_.followedSkuList().then(e=>{e.data.code===1&&(this.cartSkuInfoList=e.data.data)})}},mounted(){this.refreshSkuList(),this.$store.cartCount=this.cartSkuInfoList.length},computed:{}},w={key:0,class:"mainCart"},x={key:1};function $(e,l,F,B,d,m){const k=r("van-tag"),u=r("van-button"),g=r("van-card"),S=r("van-empty");return o(),n("div",null,[d.cartSkuInfoList.length>0?(o(),n("div",w,[(o(!0),n(h,null,p(d.cartSkuInfoList,t=>(o(),f(g,{tag:t.count,num:t.count,price:t.price,desc:t.desc,title:t.title,thumb:t.thumbs[0],key:t.skuId},{tags:s(()=>[(o(!0),n(h,null,p(t.tags,a=>(o(),f(k,{type:"success",color:this.tagInfo[a].color,key:a},{default:s(()=>[i(b(this.tagInfo[a].name),1)]),_:2},1032,["color"]))),128))]),footer:s(()=>[c(u,{size:"mini",onClick:a=>m.skuDetailInfo(t.skuId)},{default:s(()=>[i("查看")]),_:2},1032,["onClick"]),c(u,{size:"mini",onClick:a=>m.deleteFromCartList(t)},{default:s(()=>[i("移除")]),_:2},1032,["onClick"])]),_:2},1032,["tag","num","price","desc","title","thumb"]))),128))])):(o(),n("div",x,[c(S,{description:"暂无关注商品"})]))])}const N=C(y,[["render",$]]);export{N as default};
