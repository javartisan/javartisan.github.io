import{S as v}from"./index-d5fb0692.js";import{_ as S,b as l,s as y,r as a,o,c as s,F as p,f,a as r,h as k,w as i,i as d,t as C}from"./index-0af12d40.js";const b={components:{ScmMainCartItem:v},data(){return{isLogin:!1,tagInfo:{mobilePhone:{id:"mobilePhone",name:"手机",color:"blue"},computer:{id:"computer",name:"电脑",color:"green"}},cartSkuInfoList:[]}},methods:{deleteFromCartList(t){console.log(JSON.stringify(t)),l.followSku(t.skuId,!1).then(u=>{u.data.code===1&&(y(`移除关注商品：${t.title}`),this.refreshSkuList())})},skuDetailInfo(t){this.$router.push("/sku-detail/"+t)},refreshSkuList(){l.followedSkuList().then(t=>{t.data.code===1&&(this.cartSkuInfoList=t.data.data)})}},mounted(){l.userInfoInMy().then(t=>{if(t.data.code===1)this.isLogin=!0;else{this.isLogin=!1;return}}),this.refreshSkuList(),this.$store.cartCount=this.cartSkuInfoList.length},computed:{}},w={key:0},x={key:0,class:"mainCart"},I={key:1},F={key:1};function $(t,u,B,D,c,m){const g=a("van-tag"),h=a("van-button"),L=a("van-card"),_=a("van-empty");return c.isLogin?(o(),s("div",w,[c.cartSkuInfoList.length>0?(o(),s("div",x,[(o(!0),s(p,null,f(c.cartSkuInfoList,e=>(o(),k(L,{tag:e.count,num:e.count,price:e.price,desc:e.desc,title:e.title,thumb:e.thumbs[0],key:e.skuId},{tags:i(()=>[(o(!0),s(p,null,f(e.tags,n=>(o(),k(g,{type:"success",color:this.tagInfo[n].color,key:n},{default:i(()=>[d(C(this.tagInfo[n].name),1)]),_:2},1032,["color"]))),128))]),footer:i(()=>[r(h,{size:"mini",onClick:n=>m.skuDetailInfo(e.skuId)},{default:i(()=>[d("查看")]),_:2},1032,["onClick"]),r(h,{size:"mini",onClick:n=>m.deleteFromCartList(e)},{default:i(()=>[d("移除")]),_:2},1032,["onClick"])]),_:2},1032,["tag","num","price","desc","title","thumb"]))),128))])):(o(),s("div",I,[r(_,{description:"暂无关注商品"})]))])):(o(),s("div",F,[r(_,{description:"暂未登录，请登录！"})]))}const z=S(b,[["render",$]]);export{z as default};
